<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>

<!-- Selector de vistas -->
<div class="vistas-container">
    <a class="waves-effect waves-light btn" (click)="verGrid()"><i class="material-icons">view_module</i></a>
    <a class="waves-effect waves-light btn" (click)="verLista()"><i class="material-icons">view_list</i></a>    
</div>

<div class="layout-container">
    <!-- Vista Grid -->
    <div class="product-grid" *ngIf="mostrarGrid">
        <div class="col-md-3 col-sm-6" *ngFor="let producto of productos">
            <div class="product-box">
                <div class="image-container">
                    <img src="{{producto.url}}">            
                    <div class="overlay">
                        <div [routerLink]="['/detail/'+producto.id]" class="button button-primary">Ver Detalles</div>
                        <div class="button button-primary">Agregar al Carrito</div>
                    </div>
                </div>
                <div class="product-details">
                    <div class="product-name">{{producto.name}}</div>
                    <div class="product-price">{{producto.price}}$</div>
                    <div class="product-cantidad">{{producto.cantidad}} en stock</div>              
                </div>
            </div>
        </div>
    </div> 
    <!-- Vista lista -->
    <div class="product-grid" *ngIf="mostrarLista">
        <table class="left highlight responsive-table col-md-8" >
            <thead>    
                <tr>
                    <th class="left">ID</th>
                    <th>Nombre</th>
                    <th>Descripcion</th>
                    <th class="right">Precio</th>
                </tr>
            </thead>  
            <tbody>
                <tr class="tabla-fila" *ngFor="let producto of productos">
                    <td class="left">{{producto.id}}</td>
                    <td >{{producto.name}}</td>
                    <td >{{producto.descripcion}}</td>
                    <td class="right">{{ producto.price | currency }}</td>
                    <div class="tabla-acciones">
                        <a class="waves-effect waves-light btn red" (click)="delete(producto)"><i class="material-icons">delete</i></a>
                        <a class="waves-effect waves-light btn cyan" (click)="viewProducto(producto)"><i class="material-icons">create</i></a>
                        <a [routerLink]="['/detail/'+producto.id]" class="waves-effect waves-light btn green"><i class="material-icons">details</i></a>
                        <a class="waves-effect waves-light btn blue" (click)="addToCart(producto)"><i class="material-icons">shopping_cart</i></a>
                    </div>
                </tr>
            </tbody>
        </table>
        <!-- Formulario para agregar -->
        <!-- Boton para agregar -->
        <div class="col-md-4" *ngIf="!mostrarFormulario">
            <a class="btn-floating btn-large waves-effect waves-light red right pulse" (click)="verFormulario()"><i class="material-icons">+</i></a>
        </div>
        <!-- Formulario -->
        <div class="col-md-4 row" *ngIf="mostrarFormulario">
            <div class="form-horizontal formulario">
                <div class="card blue-grey darken-1">
                    <div class="card-content white-text">
                        <fieldset>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productoid">ID:</label> 
                            <div class="col-md-4">
                                <input  type="number" class="form-control input-md" id="productoid" [ngModel]="nuevoProducto?.id" (ngModelChange)="nuevoProducto.id = $event"/>
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productoname">Nombre:</label> 
                            <div class="col-md-8">
                                <input  type="text" class="form-control input-md" id="productoname" [ngModel]="nuevoProducto?.name" (ngModelChange)="nuevoProducto.name = $event"/>
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productodesc">Descripcion:</label>
                            <div class="col-md-8">
                                <input  type="text" class="form-control input-md" id="productodesc" [ngModel]="nuevoProducto?.descripcion" (ngModelChange)="nuevoProducto.descripcion = $event"/>
                            </div> 
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productoprice">Precio:</label>
                            <div class="col-md-4">
                                <input  type="number" class="form-control input-md" id="productoprice" [ngModel]="nuevoProducto?.price" (ngModelChange)="nuevoProducto.price = $event"/>
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productofoto">Foto</label>
                            <div class="col-md-3">
                                <input id="productofoto" class="input-file" type="file" >
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="tipo_producto">Tipo:</label>
                            <div class="col-md-6">
                                <select  id="tipo_producto" name="tipo_producto" class="form-control validate" [ngModel]="nuevoProducto?.tipo" (ngModelChange)="nuevoProducto.tipo = $event">
                                <option value="Casa">Casa</option>
                                <option value="Automovil">Automovil</option>
                                <option value="Comida">Comida</option>
                                <option value="Vestimenta">Vestimenta</option>
                                </select>
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productocant">Cantidad:</label> 
                            <div class="col-md-4">
                                <input  type="number" class="form-control input-md" id="productocant" [ngModel]="nuevoProducto?.cantidad" (ngModelChange)="nuevoProducto.cantidad = $event"/>
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productocolor">Color</label>
                            <div class="col-md-4">
                                <input [(colorPicker)]="nuevoProducto.color" (colorPickerChange)="nuevoProducto.color=$event" [style.background]="nuevoProducto.color" [value]="color" [ngModel]="nuevoProducto?.color" (ngModelChange)="nuevoProducto.color = $event"/>
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productodim">Dimensiones:</label>
                            <div class="col-md-8">
                                <input  type="text" class="form-control input-md" id="productodim" [ngModel]="nuevoProducto?.dimensiones" (ngModelChange)="nuevoProducto.dimensiones = $event"/>
                            </div> 
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productopeso">Peso:</label> 
                            <div class="col-md-8">
                                <input  type="text" class="form-control input-md" id="productopeso" [ngModel]="nuevoProducto?.peso" (ngModelChange)="nuevoProducto.peso = $event"/>
                            </div>
                            </div>
                            <div class="form-group">
                            <label class="col-md-4 control-label" for="productocaract">Caracteristicas:</label> 
                            <div class="col-md-8">
                                <input  type="text" class="form-control input-md" id="productocaract" [ngModel]="nuevoProducto?.caracteristicas" (ngModelChange)="nuevoProducto.caracteristicas = $event"/>
                            </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class="card-action">
                      <button class="btn waves-effect waves-light green fix right large" name="action" (click)="createProducto()">
                        <i class="material-icons center">send</i>
                      </button>
                      <button class="btn waves-effect waves-light red fix right large" name="action" (click)="cancel()">
                        <i class="material-icons center">cancel</i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
    </div>
</div>
